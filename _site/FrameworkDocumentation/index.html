<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Syphon: Syphon Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Syphon
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Syphon Framework </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Developing with Syphon</h1>
<ul>
<li>
<a href="#introduction" title="Developing with Syphon">Developing with Syphon</a>  </li>
<li>
<a href="#servers" title="Servers">Servers</a>  </li>
<li>
<a href="#finding-servers" title="Finding Servers">Finding Servers</a>  </li>
<li>
<a href="#clients" title="Clients">Clients</a>  </li>
<li>
<a href="#plugins" title="Syphon.framework in a Plugin">Syphon.framework in a Plugin</a>  </li>
<li>
<a href="#help" title="More examples and help">More examples and help</a>  </li>
<li>
<a href="#framework_dev" title="Framework development">Framework development</a>  </li>
</ul>
<h1><a class="anchor" id="introduction"></a>
Developing with Syphon</h1>
<p>The Syphon framework provides the classes necessary to add Syphon support to your application. <a class="el" href="interface_syphon_server.html">SyphonServer</a> is used to make frames available to other applications. <a class="el" href="interface_syphon_server_directory.html">SyphonServerDirectory</a> is used to discover available servers. <a class="el" href="interface_syphon_client.html">SyphonClient</a> is used to connect to and receive frames from a <a class="el" href="interface_syphon_server.html">SyphonServer</a>.</p>
<p>The framework <em>requires</em> MacOS X 10.8 or later.</p>
<p>To include Syphon in your application, follow these steps:</p>
<ol>
<li>
<h4>Add the framework to your Xcode project.</h4>
<p></p>
<p>The simplest way is to drag it to the Frameworks group in the project window.</p>
<p class="endli"></p>
</li>
<li>
<h4>Link your application with Syphon at build time.</h4>
<p></p>
<p>Add the framework to the Link Binary With Libraries build phase of your application's target.</p>
<p class="endli"></p>
</li>
<li>
<h4>Copy the framework into your application's bundle.</h4>
<p></p>
<p>Add a new Copy Files build phase to your application's target.<br />
 Select Frameworks as the destination.<br />
 Drag the Syphon framework into the build phase.</p>
<p class="endli"></p>
</li>
<li>
<h4>Import the headers.</h4>
<p></p>
<p>#import &lt;Syphon/Syphon.h&gt; in any file where you want to use Syphon classes.</p>
<p class="endli"></p>
</li>
</ol>
<h1><a class="anchor" id="servers"></a>
Servers</h1>
<p>Class documentation: <a class="el" href="interface_syphon_server.html">SyphonServer</a></p>
<p>Create a server:</p>
<div class="fragment"><div class="line"><a class="code" href="interface_syphon_server.html">SyphonServer</a> *myServer = [[<a class="code" href="interface_syphon_server.html">SyphonServer</a> alloc] initWithName:<span class="stringliteral">@&quot;My Output&quot;</span> context:myContext options:nil];</div></div><!-- fragment --><p>and then publish new frames (you can also use GL_TEXTURE_2D textures):</p>
<div class="fragment"><div class="line">[myServer publishFrameTexture:myTex textureTarget:GL_TEXTURE_RECTANGLE_EXT imageRegion:NSMakeRect(0, 0, width, height) textureDimensions:NSMakeSize(width, height) flipped:NO];</div></div><!-- fragment --><p>Alternatively there are methods to bind and unbind the server to the OpenGL context, so you can draw into it directly. You can publish new frames as often as you like, but if you only publish when you have a frame different from the previous one, then clients can do less work. You must stop the server when you are finished with it:</p>
<div class="fragment"><div class="line">[myServer stop];</div></div><!-- fragment --><h1><a class="anchor" id="finding-servers"></a>
Finding Servers</h1>
<p>Class documentation: <a class="el" href="interface_syphon_server_directory.html">SyphonServerDirectory</a></p>
<p><a class="el" href="interface_syphon_server_directory.html">SyphonServerDirectory</a> handles server discovery for you. You can get an array of dictionaries describing available servers:</p>
<div class="fragment"><div class="line">NSArray *available = [[<a class="code" href="interface_syphon_server_directory.html">SyphonServerDirectory</a> sharedDirectory] servers];</div></div><!-- fragment --><p>The servers property can be observed for changes, or you can register to receive the notifications posted by <a class="el" href="interface_syphon_server_directory.html">SyphonServerDirectory</a>.</p>
<p>Server description dictionaries are used by Syphon when you create a client, and also contain information you can use to describe available servers in your UI:</p>
<div class="fragment"><div class="line">[myMenuItem setTitle:[description objectForKey:<a class="code" href="interface_syphon_server_directory.html#a7303f6c51723d528e7d743d8b7f71ff6">SyphonServerDescriptionNameKey</a>]];</div></div><!-- fragment --><h1><a class="anchor" id="clients"></a>
Clients</h1>
<p>Class documentation: <a class="el" href="interface_syphon_client.html">SyphonClient</a>, <a class="el" href="interface_syphon_image.html">SyphonImage</a></p>
<p>Usually you create a client with a server description dictionary you obtained from <a class="el" href="interface_syphon_server_directory.html">SyphonServerDirectory</a>:</p>
<div class="fragment"><div class="line"><a class="code" href="interface_syphon_client.html">SyphonClient</a> *myClient = [[<a class="code" href="interface_syphon_client.html">SyphonClient</a> alloc] initWithServerDescription:description context:cgl_ctx options:nil newFrameHandler:^(<a class="code" href="interface_syphon_client.html">SyphonClient</a> *client) {</div><div class="line">       [myView setNeedsDisplay:YES];</div><div class="line">}];</div></div><!-- fragment --><p>The new-frame handler is optional: you can pass in nil. Here we use it to tell a view it needs to draw whenever the client receives a frame.</p>
<p>When you are ready to draw:</p>
<div class="fragment"><div class="line"><a class="code" href="interface_syphon_image.html">SyphonImage</a> *myFrame = [myClient newFrameImage];</div><div class="line"><span class="keywordflow">if</span> (myFrame)</div><div class="line">{</div><div class="line">       GLuint tex = myFrame.<a class="code" href="interface_syphon_image.html#a638a044a598f7f4e41fe7babb2854e59">textureName</a>;</div><div class="line">       NSSize dimensions = myFrame.<a class="code" href="interface_syphon_image.html#a9a26058a6d5e46246e9deae599f9c0ef">textureSize</a>;</div><div class="line"></div><div class="line">       <span class="comment">// YOUR OPENGL DRAWING CODE HERE</span></div><div class="line"></div><div class="line">       [myFrame release];</div><div class="line">}</div></div><!-- fragment --><p>As with servers, you must stop the client when you are finished with it:</p>
<div class="fragment"><div class="line">[myClient stop];</div></div><!-- fragment --><h1><a class="anchor" id="plugins"></a>
Syphon.framework in a Plugin</h1>
<p>If you are using Syphon in any sort of plugin, please download the framework source and compile a version of the framework with unique class names. This avoids class-name conflicts if another plugin or the host application also embeds the Syphon framework. The framework source is set up to make this easy for you: you just need to change one build setting.</p>
<ol>
<li>
<h4>Open the framework's Xcode project.</h4>
<p></p>
<p></p>
<p class="endli"></p>
</li>
<li>
<h4>Define SYPHON_UNIQUE_CLASS_NAME_PREFIX using the Preprocessor Macros build setting.</h4>
<p></p>
<p>Select the Syphon target in the project window.<br />
 Click the Build Settings tab to display the build settings.<br />
 Scroll down (or use the search field) to find the Preprocessor Macros (GCC_PREPROCESSOR_DEFINITIONS) setting.<br />
 Double click the setting to add SYPHON_UNIQUE_CLASS_NAME_PREFIX=MyPluginName as a macro. </p>
<p class="endli"></p>
</li>
<li>
<h4>Build the framework.</h4>
<p></p>
<p>The built framework will have custom class names. The headers alias the custom names, so you can use <a class="el" href="interface_syphon_server.html">SyphonServer</a>, <a class="el" href="interface_syphon_client.html">SyphonClient</a>, <a class="el" href="interface_syphon_image.html">SyphonImage</a> and <a class="el" href="interface_syphon_server_directory.html">SyphonServerDirectory</a> as normal in your code.<br />
 </p>
<p class="endli"></p>
</li>
</ol>
<h1><a class="anchor" id="help"></a>
More examples and help</h1>
<p>Example projects implementing a server and client are included with the Syphon SDK. You can also examine the source to some Syphon implementations on <a href="https://github.com/Syphon">GitHub</a>.</p>
<p>Use the <a href="http://forums.v002.info/forum.php?id=7" target="_blank">Syphon developer forum</a> to ask questions, and for any development related discussion.</p>
<p>Good luck!</p>
<h1><a class="anchor" id="framework_dev"></a>
Framework development</h1>
<p>If you'd like to examine the framework's source code, report a bug, or get involved in development, head on over to the <a href="https://github.com/Syphon/Syphon-Framework">Syphon framework GitHub project.</a> </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small><a href="http://syphon.v002.info/">http://syphon.v002.info</a></small></address>
</body>
</html>
